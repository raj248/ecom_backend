import{j as e,l as y,x as T,m as O,e as H,w as z}from"./index-lrQuldHs.js";import{B as h}from"./button-rh3FTULs.js";import{C as K,a as Q}from"./card-w6jK4kZ9.js";import{I as W}from"./input-DxgA4gbo.js";import{C as $,A as G}from"./ProductServices-DkrntO0G.js";import{e as J,c as k,f as c,T as X,a as Y,b as Z,d as m}from"./table-pH1NcXB9.js";import{l as ee,u as se,e as C,f as ae,g as le}from"./Layout-zjBccTHe.js";import{u as te}from"./useFilter-CTY6t_y8.js";import{N as re}from"./NotFound-DffgNZ-O.js";import{T as w,D as ie,u as D,M as ne}from"./DrawerButton-CHM5Wu-i.js";import{P as oe}from"./PageTitle-DEDGWyYG.js";import{U as de}from"./UploadMany-BA7CJfP3.js";import{C as S,S as ce,B as me}from"./ShowHideButton-B5Ky8xjG.js";import{E as xe,D as pe}from"./EditDeleteButton-BFQAVewg.js";import{A as he}from"./AnimatedContent-DSnt0TWS.js";import"./select-7doUwPnS.js";import{E as v}from"./index.esm-BUE4Z1sU.js";import{L as f}from"./LabelArea-CL5vBgQk.js";import{I as A}from"./InputArea-C6cF93jC.js";import{u as ue}from"./useAttributeSubmit-qSpAXD-8.js";import{T as ge}from"./Tooltip-D68gOM7t.js";import{T as je}from"./TableLoading-BpKh234J.js";import"./index-C148XJoK.js";import"./index-BOuINoA5.js";import"./useDisableForDemo-dHOka9Cq.js";import"./CouponServices-DZWPN_Z6.js";import"./CurrencyServices-BtWGRbQW.js";import"./SelectLanguageTwo-CEDNWkHE.js";import"./spinner-CkndCogW.js";import"./exportFromJSON-BvevaQwb.js";import"./ParentCategory-DqAAqud_.js";import"./useAsync-BoRl3kkI.js";import"./SwitchToggle-BZHbvCGz.js";import"./index.prod-Ca2g6A5e.js";import"./textarea-CE3Qtp6r.js";import"./Combination-DMBpnunk.js";import"./tslib.es6-BGws65QO.js";import"./AdminServices-B69j88RY.js";import"./floating-ui.dom-BM6icrOT.js";import"./label-D0mdihLM.js";import"./useTranslationValue-2zmYr2dJ.js";const fe=({notes:l,addNote:n,removeNote:d})=>e.jsxs("div",{className:"react-tag-input",children:[e.jsx("ul",{id:"tags",children:l.map((s,r)=>e.jsxs("li",{className:"react-tag-input__tag",children:[e.jsx("span",{className:"tag-title react-tag-input__tag__content",children:s}),e.jsx("span",{className:"react-tag-input__tag__remove",onClick:()=>d(r)})]},r))}),e.jsx("input",{name:"note",className:"react-tag-input__input",type:"text",onBlur:s=>n(s),onKeyDown:s=>s.key==="Enter"?n(s):null,placeholder:"Press enter to add variant"})]}),be=({id:l})=>{const{language:n,handleSubmit:d,onSubmit:s,register:r,errors:o,variants:a,addVariant:x,isSubmitting:u,removeVariant:g,handleSelectLanguage:p}=ue(l),{t:i}=y();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:l?e.jsx(w,{register:r,language:n,handleSelectLanguage:p,title:i("UpdateAttribute"),description:i("UpdateAttributeDesc")}):e.jsx(w,{register:r,language:n,handleSelectLanguage:p,title:i("AddAttribute"),description:i("AddAttributeDesc")})}),e.jsxs(ee.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:[e.jsxs("form",{onSubmit:d(s),children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(f,{label:i("DrawerAttributeTitle")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(A,{required:!0,register:r,label:"Attribute Title",name:"title",type:"text",placeholder:"Color or Size or Dimension or Material or Fabric"}),e.jsx(v,{errorName:o.title})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 relative",children:[e.jsx(f,{label:i("DisplayName")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(A,{required:!0,register:r,label:"Display Name",name:"name",type:"text",placeholder:"Display Name"}),e.jsx(v,{errorName:o.name})]})]})]}),e.jsx(ie,{id:l,title:"Attribute",isSubmitting:u})]}),e.jsx("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40 ",children:!l&&e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 relative",children:[e.jsx(f,{label:i("Variants")}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(fe,{notes:a,addNote:x,removeNote:g})})]})})]})]})},Ne=({attributes:l})=>{const{handleModalOpen:n,handleUpdate:d}=D(),{showingTranslateValue:s}=se(),{handleSelect:r,selectedIds:o}=T();return e.jsx(e.Fragment,{children:e.jsx(J,{children:l==null?void 0:l.map(a=>{var x;return e.jsxs(k,{children:[e.jsx(c,{children:e.jsx(S,{type:"checkbox",name:"attribute",id:a._id,handleSelect:r,isChecked:o==null?void 0:o.includes(a._id)})}),e.jsx(c,{className:"font-semibold uppercase text-xs",children:(x=a==null?void 0:a._id)==null?void 0:x.substring(20,24)}),e.jsx(c,{className:"font-medium text-sm",children:s(a.title)}),e.jsx(c,{className:"font-medium text-sm",children:s(a.name)}),e.jsx(c,{className:"font-medium text-sm",children:a.option}),e.jsx(c,{className:"text-center",children:e.jsx(ce,{id:a._id,status:a.status})}),e.jsx(c,{className:"flex justify-center",children:e.jsx(O,{to:`/attributes/${a._id}`,className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:e.jsx(ge,{id:"edit values",Icon:C,title:"Edit Values",bgColor:"#10B981"})})}),e.jsx(c,{children:e.jsx(xe,{id:a._id,selectedIds:o,handleUpdate:d,handleModalOpen:n,title:s(a.title)})})]},a._id)})})})},os=()=>{const{open:l,setOpen:n,selectedId:d,selectedIds:s,isCheckAll:r,toggleDrawer:o,handleSelectAll:a}=T(),{title:x,handleDeleteMany:u,handleUpdateMany:g}=D(),{data:p,error:i,isLoading:_}=H({queryKey:["attributes"],queryFn:()=>G.getAllAttributes({type:"attribute",option:"Dropdown",option1:"Radio"}),staleTime:600*1e3,gcTime:900*1e3,placeholderData:z}),{t}=y(),{filename:F,isDisabled:B,dataTable:P,serviceData:j,totalResults:M,attributeRef:b,resultsPerPage:E,handleSelectFile:L,handleChangePage:R,setAttributeTitle:U,handleSubmitAttribute:N,handleUploadMultiple:I,handleRemoveSelectFile:V}=te(p),q=()=>{U(""),b.current.value=""};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between py-4 lg:py-8 gap-4 lg:gap-2",children:[e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx(oe,{children:t("AttributeTitle")})}),e.jsxs("form",{onSubmit:N,className:"flex flex-col sm:flex-row lg:flex-row gap-2 lg:ml-4",children:[e.jsx("div",{className:"w-full sm:w-auto",children:e.jsx(de,{title:"Attribute",exportData:p,filename:F,isDisabled:B,handleSelectFile:L,handleUploadMultiple:I,handleRemoveSelectFile:V})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(h,{disabled:s.length<1,onClick:()=>g(s),variant:"bulkAction",className:"w-full sm:w-auto",children:[e.jsx("span",{children:e.jsx(C,{})}),t("BulkAction")]}),e.jsxs(h,{disabled:s.length<1,onClick:()=>u(s),variant:"delete",className:"w-full sm:w-auto",children:[e.jsx("span",{children:e.jsx(ae,{})}),t("Delete")]}),e.jsxs(h,{onClick:o,variant:"create",className:"w-full sm:w-auto",children:[e.jsx("span",{children:e.jsx(le,{})}),t("CouponsAddAttributeBtn")]})]})]})]}),e.jsx(pe,{open:l,title:x,id:d,onOpenChange:()=>n(!1),ids:(s==null?void 0:s.length)>0?s:null}),e.jsx(me,{ids:s,title:"Attributes"}),e.jsx(ne,{children:e.jsx(be,{id:d})}),e.jsx(he,{children:e.jsx(K,{className:"min-w-0 shadow-sm overflow-hidden bg-white dark:bg-gray-800 rounded-t-lg rounded-0 mb-4",children:e.jsxs(Q,{className:"p-5",children:[e.jsxs("form",{onSubmit:N,className:"pb-5 flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsxs("div",{className:"w-full sm:flex-1 relative",children:[e.jsx(W,{ref:b,type:"search",placeholder:t("SearchAttributePlaceholder"),className:"w-full"}),e.jsx("button",{type:"submit",className:"absolute right-1 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),e.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 sm:min-w-[160px]",children:[e.jsx(h,{type:"submit",className:"h-10 flex-1 sm:min-w-[75px]",variant:"export",children:"Filter"}),e.jsx(h,{variant:"outline",className:"h-10 flex-1 sm:min-w-[75px]",onClick:q,type:"reset",children:e.jsx("span",{className:"text-black dark:text-gray-200",children:"Reset"})})]})]}),_?e.jsx(je,{row:12,col:6,width:180,height:20}):i?e.jsx("span",{className:"text-center mx-auto text-red-500",children:i}):(j==null?void 0:j.length)!==0?e.jsxs("div",{children:[e.jsx(X,{className:"mb-8",children:e.jsxs(Y,{children:[e.jsx(Z,{children:e.jsxs(k,{children:[e.jsx(m,{children:e.jsx(S,{type:"checkbox",name:"selectAll",id:"selectAll",isChecked:r,handleSelect:()=>a(p)})}),e.jsxs(m,{children:[" ",t("Id")," "]}),e.jsxs(m,{children:[" ",t("AName")]}),e.jsxs(m,{children:[" ",t("ADisplayName")]}),e.jsx(m,{children:t("AOption")}),e.jsx(m,{className:"text-center",children:t("catPublishedTbl")}),e.jsx(m,{className:"text-center",children:t("Avalues")}),e.jsx(m,{className:"text-right",children:t("AAction")})]})}),e.jsx(Ne,{attributes:P})]})}),e.jsx("div",{children:e.jsx($,{resultsperpage:E,totalresults:M,onChange:R,label:"Table navigation"})})]}):e.jsx(re,{title:"Sorry, There are no attributes right now."})]})})})]})};export{os as default};
