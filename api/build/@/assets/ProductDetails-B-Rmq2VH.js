import{j as e,t as F,l as I,r as b,S as V}from"./index-BmZ_dwCv.js";import{u as C,A as w,i as P,j as v,B as T}from"./Layout-B1bU_74f.js";import{P as O}from"./ProductServices-afE79VKB.js";import{e as _,c as A,f as o,T as D,a as E,b as L,d as a}from"./table-DqTgYDcX.js";import{u as H}from"./useAsync-xcASmSVa.js";import{u as R}from"./useFilter-_rWokXMj.js";import{u as M,P as Q}from"./ProductDrawer-b1VYk31X.js";import{u as U,M as q}from"./DrawerButton-Cgm6zT_g.js";import{L as J}from"./Loading-BUtodYRD.js";import{P as S}from"./PageTitle-LqzkoK1q.js";import"./index-CWe8m2Sk.js";import"./button-4tHrV-ob.js";import"./index-C148XJoK.js";import"./useDisableForDemo-CWmzrrYY.js";import"./CouponServices-DlRCOaul.js";import"./CurrencyServices-CGhkZaP1.js";import"./ParentCategory-gD9tabZx.js";import"./Tooltip-Bb6l2jS1.js";import"./floating-ui.dom-BM6icrOT.js";import"./input-C0BdUGB3.js";import"./textarea-CEbUnO4R.js";import"./index-BdrnRTgM.js";import"./index.esm-DazwP4qc.js";import"./InputArea-l9xTjbBj.js";import"./LabelArea-CDILq1N9.js";import"./label-C6IWixiq.js";import"./InputValue-C4c78urY.js";import"./useTranslationValue-BbCbvZPg.js";import"./Uploader-CWHO3hsY.js";import"./tslib.es6-BGws65QO.js";import"./_commonjs-dynamic-modules-dt42qxfv.js";import"./index.prod-DYWWLFcb.js";import"./SelectLanguageTwo-D8KAIgW8.js";import"./spinner-CkndCogW.js";const z=({variants:c,variantTitle:r})=>{const{showingTranslateValue:j,currency:d,getNumberTwo:m}=C();return e.jsx(e.Fragment,{children:e.jsx(_,{children:c==null?void 0:c.map((l,p)=>{var s;return e.jsxs(A,{children:[e.jsx(o,{className:"font-semibold uppercase text-xs",children:p+1}),e.jsx(o,{children:e.jsx("div",{className:"flex items-center",children:l.image?e.jsxs(w,{className:"hidden p-1 mr-2 md:block bg-gray-50 shadow-none",children:[e.jsx(P,{src:l.image,alt:"product"}),e.jsx(v,{children:"V"})]}):e.jsxs(w,{className:"hidden p-1 mr-2 md:block bg-gray-50 shadow-none",children:[e.jsx(P,{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product"}),e.jsx(v,{children:"V"})]})})}),e.jsx(o,{children:e.jsxs("div",{className:"flex flex-col text-sm",children:[e.jsx("span",{children:(s=r==null?void 0:r.map(i=>{var h,u;const x=(h=i==null?void 0:i.variants)==null?void 0:h.filter(n=>(n==null?void 0:n.name)!=="All"),t=(u=x==null?void 0:x.find(n=>n._id===l[i==null?void 0:i._id]))==null?void 0:u.name;return t===void 0?t==null?void 0:t.en:j(t)}))==null?void 0:s.filter(Boolean).join(" ")}),l.productId&&e.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.productId,")"]})]})}),e.jsx(o,{className:"font-semibold uppercase text-xs",children:l.sku}),e.jsx(o,{className:"font-semibold uppercase text-xs",children:l.barcode}),e.jsxs(o,{className:"font-semibold uppercase text-xs",children:[d,m(l.originalPrice)]}),e.jsxs(o,{className:"font-semibold uppercase text-xs",children:[d,m(l.price)]}),e.jsx(o,{className:"font-semibold uppercase text-xs",children:l.quantity})]},p+1)})})})},Se=()=>{var n,y,N,k;const{id:c}=F(),{t:r}=I(),{handleUpdate:j}=U(),{attribue:d}=M(c),[m,l]=b.useState([]),{lang:p}=b.useContext(V),{data:s,loading:i}=H(()=>O.getProductById(c)),{currency:x,showingTranslateValue:t,getNumberTwo:h}=C(),{dataTable:u}=R(s==null?void 0:s.variants);return b.useEffect(()=>{if(!i){const f=Object.keys(Object.assign({},...s==null?void 0:s.variants)),g=d==null?void 0:d.filter(B=>f.includes(B._id));l(g)}},[d,s==null?void 0:s.variants,i,p]),e.jsxs(e.Fragment,{children:[e.jsx(q,{product:!0,children:e.jsx(Q,{id:c})}),e.jsx("div",{className:"lg:flex lg:items-center lg:justify-between py-8 gap-2",children:e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx(S,{children:r("ProductDetails")})})}),i?e.jsx(J,{loading:i}):e.jsx("div",{className:"inline-block overflow-y-auto h-full align-middle transition-all transform",children:e.jsxs("div",{className:"flex flex-col lg:flex-row md:flex-row w-full overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-auto",children:s!=null&&s.image[0]?e.jsx("img",{src:s==null?void 0:s.image[0],alt:"product",className:"h-64 w-64"}):e.jsx("img",{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product"})}),e.jsxs("div",{className:"w-full flex flex-col p-5 md:p-8 text-left",children:[e.jsxs("div",{className:"mb-5 block ",children:[e.jsx("div",{className:"font-serif font-semibold py-1 text-sm",children:e.jsxs("p",{className:"text-sm text-gray-500 pr-4",children:[r("Status"),":"," ",s.status==="show"?e.jsx("span",{className:"text-emerald-400",children:r("ThisProductShowing")}):e.jsx("span",{className:"text-red-400",children:r("ThisProductHidden")})]})}),e.jsx("h2",{className:"text-heading text-lg md:text-xl lg:text-2xl font-semibold font-serif dark:text-gray-400",children:t(s==null?void 0:s.title)}),e.jsxs("p",{className:"uppercase font-serif font-medium text-gray-500 dark:text-gray-400 text-sm",children:[r("Sku")," :"," ",e.jsx("span",{className:"font-bold text-gray-500 dark:text-gray-500",children:s==null?void 0:s.sku})]})]}),e.jsx("div",{className:"font-serif product-price font-bold dark:text-gray-400",children:e.jsxs("span",{className:"inline-block text-2xl",children:[x,h((n=s==null?void 0:s.prices)==null?void 0:n.price),((y=s==null?void 0:s.prices)==null?void 0:y.discount)>=1&&e.jsxs("del",{className:"text-gray-400 dark:text-gray-500 text-lg pl-2",children:[x,h((N=s==null?void 0:s.prices)==null?void 0:N.originalPrice)]})]})}),e.jsxs("div",{className:"mb-3",children:[(s==null?void 0:s.stock)<=0?e.jsxs(T,{variant:"danger",children:[e.jsx("span",{className:"font-bold",children:r("StockOut")})," "]}):e.jsxs(T,{variant:"success",children:[" ",e.jsx("span",{className:"font-bold",children:r("InStock")})]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium pl-4",children:[r("Quantity"),": ",s==null?void 0:s.stock]})]}),e.jsx("p",{className:"text-sm leading-6 text-gray-500 dark:text-gray-400 md:leading-7",children:t(s==null?void 0:s.description)}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsxs("p",{className:"font-serif font-semibold py-1 text-gray-500 text-sm",children:[e.jsxs("span",{className:"text-gray-700 dark:text-gray-400",children:[r("Category"),":"," "]})," ",t((k=s==null?void 0:s.category)==null?void 0:k.name)]}),e.jsx("div",{className:"flex flex-row",children:JSON.parse(s==null?void 0:s.tag).map((f,g)=>e.jsx("span",{className:"bg-gray-200 mr-2 border-0 text-gray-500 rounded-full inline-flex items-center justify-center px-2 py-1 text-xs font-semibold font-serif mt-2 dark:bg-gray-700 dark:text-gray-300",children:f},g+1))})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>j(c),className:"cursor-pointer leading-5 transition-colors duration-150 font-medium text-sm focus:outline-none px-5 py-2 rounded-md text-white bg-emerald-500 border border-transparent active:bg-emerald-600 hover:bg-emerald-600 ",children:r("EditProduct")})})]})]})}),(s==null?void 0:s.isCombination)&&(m==null?void 0:m.length)>0&&!i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:e.jsx(S,{children:r("ProductVariantList")})}),e.jsx(D,{className:"mb-8 rounded-b-lg",children:e.jsxs(E,{children:[e.jsx(L,{children:e.jsxs(A,{children:[e.jsx(a,{children:r("SR")}),e.jsx(a,{children:r("Image")}),e.jsx(a,{children:r("Combination")}),e.jsx(a,{children:r("Sku")}),e.jsx(a,{children:r("Barcode")}),e.jsx(a,{children:r("OrginalPrice")}),e.jsx(a,{children:r("SalePrice")}),e.jsx(a,{children:r("Quantity")})]})}),e.jsx(z,{lang:p,variants:u,currency:x,variantTitle:m})]})})]})]})};export{Se as default};
