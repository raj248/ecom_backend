import{l as $,j as s,r as b,m as H}from"./index-lrQuldHs.js";import{T as L,a as q,b as B,f as m,e as F,c as v}from"./table-pH1NcXB9.js";import{d as E,u as V,s as U,k as Z}from"./Layout-zjBccTHe.js";import{S as J}from"./Status-bPmvzZ27.js";import{T as G}from"./Tooltip-D68gOM7t.js";import{l as K}from"./index-BtKdcUoa.js";import{n as W}from"./button-rh3FTULs.js";import{O as X}from"./OrderServices-BKD454yT.js";import{C as u}from"./card-w6jK4kZ9.js";import{S as g}from"./SelectStatus-CZ5F_A-M.js";const S=({data:e,printRef:p,globalSetting:i})=>{var c,r,l,y,N,h,j,a,w,_,C;const{t}=$(),x=(i==null?void 0:i.default_currency)||"$";return s.jsx("div",{ref:p,className:"p-4",children:Array.isArray(e)?e==null?void 0:e.map((n,o)=>{var d,D,T,P,k,O,z,M,A,I,Y;return s.jsxs("div",{className:"mb-8",children:[(i==null?void 0:i.logo)&&s.jsx("img",{className:"flex mx-auto",size:"large",src:i==null?void 0:i.logo,alt:"",width:50}),s.jsxs("div",{className:"my-1",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("h1",{className:"font-bold text-xl",children:i==null?void 0:i.company_name})}),s.jsxs(u,{className:"flex flex-col justify-center text-center",children:[s.jsx("span",{className:"flex-row",children:i==null?void 0:i.address}),s.jsx("span",{className:"flex justify-center",children:i==null?void 0:i.contact}),i==null?void 0:i.web_site,s.jsx("br",{}),i==null?void 0:i.email]})]}),s.jsx(L,{className:"my-4 rounded-b-lg",children:s.jsxs(q,{children:[s.jsx(B,{children:s.jsxs("tr",{children:[s.jsx(m,{className:"bg-white",children:s.jsx("span",{className:"text-xs capitalize text-gray-700",children:t("Item")})}),s.jsx(m,{className:"text-xs bg-white capitalize text-center text-gray-700",children:t("QTY")}),s.jsx(m,{className:"text-xs bg-white capitalize text-right text-gray-700",children:t("Amount")})]})}),s.jsx(F,{className:"bg-white dark:bg-gray-800 divide-y divide-gray-100 text-serif text-sm",children:(d=n==null?void 0:n.cart)==null?void 0:d.map((f,Q)=>{var R;return s.jsxs(v,{className:"dark:border-gray-700 dark:text-gray-400 bill",children:[s.jsx(m,{className:"py-1",children:s.jsxs("span",{className:"font-normal text-gray-600 bill",children:[" ",(R=f.title)==null?void 0:R.substring(0,15)]})}),s.jsx(m,{className:"text-center py-1",children:s.jsxs("span",{className:"font-bold text-center bill",children:[" ",f.quantity," "]})}),s.jsx(m,{className:"text-right py-1",children:s.jsxs("span",{className:"text-right font-bold text-gray-700 bill",children:[" ",x,(f.price*f.quantity).toFixed(2)]})})]},Q)})})]})}),s.jsx(u,{children:s.jsxs("div",{className:"flex justify-between -mt-3 mr-1 mb-4",children:[s.jsxs("div",{className:"mt-2",children:[(n==null?void 0:n.paymentMethod)==="Combined"?s.jsxs("p",{className:"bill",children:[s.jsxs("span",{className:"mb-1 font-semibold bill font-serif text-xs text-gray-700 dark:text-gray-500 block",children:[t("Paymentmethod")," :"," ",s.jsx("span",{className:"text-gray-600 bill",children:n.paymentMethod})]}),((D=n==null?void 0:n.paymentDetails)==null?void 0:D.selectPaymentOption_Card)!==void 0&&s.jsxs("span",{className:"text-xs bill",children:[(T=n==null?void 0:n.paymentDetails)==null?void 0:T.selectPaymentOption_Card,":"," ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[" ",x,parseFloat((P=n==null?void 0:n.paymentDetails)==null?void 0:P.paymentAmount_Card).toFixed(2)]})]}),s.jsx("br",{}),((k=n==null?void 0:n.paymentDetails)==null?void 0:k.selectPaymentOption_Cash)!==void 0&&s.jsxs("span",{className:"text-xs bill",children:[(O=n==null?void 0:n.paymentDetails)==null?void 0:O.selectPaymentOption_Cash,":"," ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[x,parseFloat((z=n==null?void 0:n.paymentDetails)==null?void 0:z.paymentAmount_Cash).toFixed(2)]})]}),s.jsx("br",{}),((M=n==null?void 0:n.paymentDetails)==null?void 0:M.selectPaymentOption_Credit)!==void 0&&s.jsxs("span",{className:"text-xs bill",children:[(A=n==null?void 0:n.paymentDetails)==null?void 0:A.selectPaymentOption_Credit,":"," ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[x,parseFloat((I=n==null?void 0:n.paymentDetails)==null?void 0:I.paymentAmount_Credit).toFixed(2)]})]})]}):s.jsx("p",{className:"bill",children:s.jsxs("span",{className:"font-semibold bill font-serif text-xs text-gray-600 dark:text-gray-500 block",children:[t("Paymentmethod")," :"," ",s.jsx("span",{className:"text-gray-700 bill",children:n.paymentMethod})]})}),s.jsxs("div",{className:"text-xs bill",children:[(n==null?void 0:n.shippingOption)&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-gray-600",children:[t("ShippingMethodLower")," :",s.jsx("span",{className:"font-semibold text-gray-900",children:n==null?void 0:n.shippingOption})]}),s.jsx("br",{})]}),s.jsxs("span",{className:"text-gray-600",children:[t("NoofItems")," :"," ",s.jsx("span",{className:"font-semibold text-gray-900",children:(Y=n==null?void 0:n.cart)==null?void 0:Y.length})," "]})," ",s.jsx("br",{}),s.jsxs("span",{className:"text-gray-600",children:[t("BillNo")," :"," ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[" ",n==null?void 0:n.invoice]})," "]})," ",s.jsx("br",{}),s.jsx("br",{}),(i==null?void 0:i.vat_number)&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-gray-600",children:[t("VATNumber"),":"," ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[" ",i==null?void 0:i.vat_number]})," "]}),s.jsx("br",{})]}),s.jsxs("span",{className:"text-gray-600",children:[t("Date")," :"," ",s.jsxs("span",{className:"font-semibold text-gray-700",children:[" ",E(new Date).format("MM/D/YYYY")]})," "]})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("h5",{className:"flex justify-between font-medium text-xs ",children:[s.jsxs("span",{children:[t("GrossTotal")," :"]})," ",s.jsxs("span",{className:"font-semibold ",children:[x,parseFloat(n==null?void 0:n.subTotal).toFixed(2)]})]}),(n==null?void 0:n.shippingCost)>0&&s.jsxs("h5",{className:"flex justify-between font-medium text-xs",children:[s.jsxs("span",{children:[" ",t("ShippingCostLower")," :"]})," ",s.jsxs("span",{className:"font-semibold ",children:[x,parseFloat(n==null?void 0:n.shippingCost).toFixed(2)]})]}),(n==null?void 0:n.discount)>0&&s.jsxs("h5",{className:"flex justify-between font-medium text-xs",children:[s.jsxs("span",{children:[" ",t("DiscountLower")," :"]})," ",s.jsxs("span",{className:"font-semibold",children:[x,parseFloat(n==null?void 0:n.discount).toFixed(2)]})]}),s.jsxs("h3",{className:"flex justify-between font-medium text-xs border-t border-black mt-2",children:[s.jsxs("span",{children:[" ",t("Total")," : "]}),s.jsxs("span",{className:"font-semibold ",children:[x,parseFloat(n==null?void 0:n.total).toFixed(2)]})]})]})]})}),s.jsx("h2",{className:"mb-2 text-center font-medium text-sm",children:t("ThankYouMsg")})]},o+1)}):s.jsxs(b.Fragment,{children:[(i==null?void 0:i.logo)&&s.jsx("img",{className:"flex mx-auto",size:"large",src:i==null?void 0:i.logo,alt:"",width:50}),s.jsxs("div",{className:"my-1",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("h1",{className:"font-bold text-xl",children:i==null?void 0:i.company_name})}),s.jsxs(u,{className:"flex flex-col justify-center text-center",children:[s.jsx("span",{className:"flex-row",children:i==null?void 0:i.address}),s.jsx("span",{className:"flex justify-center",children:i==null?void 0:i.contact}),i==null?void 0:i.web_site,s.jsx("br",{}),i==null?void 0:i.email]})]}),s.jsx(L,{className:"my-4 rounded-b-lg",children:s.jsxs(q,{children:[s.jsx(B,{children:s.jsxs("tr",{children:[s.jsx(m,{className:"bg-white",children:s.jsx("span",{className:"text-xs capitalize text-gray-700",children:t("Item")})}),s.jsx(m,{className:"text-xs bg-white capitalize text-center text-gray-700",children:t("QTY")}),s.jsx(m,{className:"text-xs bg-white capitalize text-right text-gray-700",children:t("Amount")})]})}),s.jsx(F,{className:"bg-white dark:bg-gray-800 divide-y divide-gray-100 text-serif text-sm",children:(c=e==null?void 0:e.cart)==null?void 0:c.map((n,o)=>{var d;return s.jsxs(v,{className:"dark:border-gray-700 dark:text-gray-400 bill",children:[s.jsx(m,{className:"py-1",children:s.jsxs("span",{className:"font-normal text-gray-600 bill",children:[" ",(d=n.title)==null?void 0:d.substring(0,15)]})}),s.jsx(m,{className:"text-center py-1",children:s.jsxs("span",{className:"font-bold text-center bill",children:[" ",n.quantity," "]})}),s.jsx(m,{className:"text-right py-1",children:s.jsxs("span",{className:"text-right font-bold text-gray-700 bill",children:[" ",x,(n.price*n.quantity).toFixed(2)]})})]},o)})})]})}),s.jsx(u,{children:s.jsxs("div",{className:"flex justify-between -mt-3 mr-1 mb-4",children:[s.jsxs("div",{className:"mt-2",children:[(e==null?void 0:e.paymentMethod)==="Combined"?s.jsxs("p",{className:"bill",children:[s.jsxs("span",{className:"mb-1 font-semibold bill font-serif text-xs text-gray-700 dark:text-gray-500 block",children:[t("Paymentmethod")," :"," ",s.jsx("span",{className:"text-gray-600 bill",children:e.paymentMethod})]}),((r=e==null?void 0:e.paymentDetails)==null?void 0:r.selectPaymentOption_Card)!==void 0&&s.jsxs("span",{className:"text-xs bill",children:[(l=e==null?void 0:e.paymentDetails)==null?void 0:l.selectPaymentOption_Card,":"," ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[" ",x,parseFloat((y=e==null?void 0:e.paymentDetails)==null?void 0:y.paymentAmount_Card).toFixed(2)]})]}),s.jsx("br",{}),((N=e==null?void 0:e.paymentDetails)==null?void 0:N.selectPaymentOption_Cash)!==void 0&&s.jsxs("span",{className:"text-xs bill",children:[(h=e==null?void 0:e.paymentDetails)==null?void 0:h.selectPaymentOption_Cash,":"," ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[x,parseFloat((j=e==null?void 0:e.paymentDetails)==null?void 0:j.paymentAmount_Cash).toFixed(2)]})]}),s.jsx("br",{}),((a=e==null?void 0:e.paymentDetails)==null?void 0:a.selectPaymentOption_Credit)!==void 0&&s.jsxs("span",{className:"text-xs bill",children:[(w=e==null?void 0:e.paymentDetails)==null?void 0:w.selectPaymentOption_Credit,":"," ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[x,parseFloat((_=e==null?void 0:e.paymentDetails)==null?void 0:_.paymentAmount_Credit).toFixed(2)]})]})]}):s.jsx("p",{className:"bill",children:s.jsxs("span",{className:"font-semibold bill font-serif text-xs text-gray-600 dark:text-gray-500 block",children:[t("Paymentmethod")," :"," ",s.jsx("span",{className:"text-gray-700 bill",children:e.paymentMethod})]})}),s.jsxs("div",{className:"text-xs bill",children:[(e==null?void 0:e.shippingOption)&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-gray-600",children:[t("ShippingMethodLower")," :",s.jsx("span",{className:"font-semibold text-gray-900",children:e==null?void 0:e.shippingOption})]}),s.jsx("br",{})]}),s.jsxs("span",{className:"text-gray-600",children:[t("NoofItems")," :"," ",s.jsx("span",{className:"font-semibold text-gray-900",children:(C=e==null?void 0:e.cart)==null?void 0:C.length})," "]})," ",s.jsx("br",{}),s.jsxs("span",{className:"text-gray-600",children:[t("BillNo")," :"," ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[" ",e==null?void 0:e.invoice]})," "]})," ",s.jsx("br",{}),s.jsx("br",{}),(i==null?void 0:i.vat_number)&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-gray-600",children:[t("VATNumber"),":"," ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[" ",i==null?void 0:i.vat_number]})," "]}),s.jsx("br",{})]}),s.jsxs("span",{className:"text-gray-600",children:[t("Date")," :"," ",s.jsxs("span",{className:"font-semibold text-gray-700",children:[" ",E(new Date).format("MM/D/YYYY")]})," "]})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("h5",{className:"flex justify-between font-medium text-xs ",children:[s.jsxs("span",{children:[t("GrossTotal")," :"]})," ",s.jsxs("span",{className:"font-semibold ",children:[x,parseFloat(e==null?void 0:e.subTotal).toFixed(2)]})]}),(e==null?void 0:e.shippingCost)>0&&s.jsxs("h5",{className:"flex justify-between font-medium text-xs",children:[s.jsxs("span",{children:[" ",t("ShippingCostLower")," :"]})," ",s.jsxs("span",{className:"font-semibold ",children:[x,parseFloat(e==null?void 0:e.shippingCost).toFixed(2)]})]}),(e==null?void 0:e.discount)>0&&s.jsxs("h5",{className:"flex justify-between font-medium text-xs",children:[s.jsxs("span",{children:[" ",t("DiscountLower")," :"]})," ",s.jsxs("span",{className:"font-semibold",children:[x,parseFloat(e==null?void 0:e.discount).toFixed(2)]})]}),s.jsxs("h3",{className:"flex justify-between font-medium text-xs border-t border-black mt-2",children:[s.jsxs("span",{children:[" ",t("Total")," : "]}),s.jsxs("span",{className:"font-semibold ",children:[x,parseFloat(e==null?void 0:e.total).toFixed(2)]})]})]})]})}),s.jsx("h2",{className:"mb-2 text-center font-medium text-sm",children:t("ThankYouMsg")})]})})},ss=({orderId:e,order:p})=>{const i=b.useRef(null),[t,x]=b.useState({}),{globalSetting:c}=V(),r=`
    @media print {
      @page {
        size: ${(c==null?void 0:c.receipt_size)==="A4"?"8.5in 14in":(c==null?void 0:c.receipt_size)==="3-1/8"?"9.8in 13.8in":(c==null?void 0:c.receipt_size)==="2-1/4"?"3in 8in":"3.5in 8.5in"};
        margin: 0;
        padding: 0;
        font-size: 10px !important;
      }
    
      @page: first {
        size: ${(c==null?void 0:c.receipt_size)==="A4"?"8.5in 14in":(c==null?void 0:c.receipt_size)==="3-1/8"?"9.8in 13.8in":(c==null?void 0:c.receipt_size)==="2-1/4"?"3in 8in":"3.5in 8.5in"};
        margin: 0;
        font-size: 10px !important;
      }
    }
`,l=K.useReactToPrint({contentRef:i,pageStyle:r,documentTitle:"Invoice"}),y=async N=>{var h,j;try{const a=await X.getOrderById(N);x(a),a&&l()}catch(a){W(a?(j=(h=a==null?void 0:a.response)==null?void 0:h.data)==null?void 0:j.message:a==null?void 0:a.message)}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{display:"none"},children:s.jsx(S,{data:p,printRef:i,globalSetting:c})}),s.jsx("button",{onClick:()=>{y(e)},type:"button",className:"ml-2 p-2 cursor-pointer text-gray-500 hover:text-emerald-600 focus:outline-none",children:s.jsx(G,{id:"receipt",Icon:U,title:"Print Receipt",bgColor:"#f59e0b"})})]})},ps=({orders:e})=>{const{t:p}=$(),{showDateTimeFormat:i,currency:t,getNumberTwo:x}=V();return s.jsx(s.Fragment,{children:s.jsx(F,{className:"dark:bg-gray-900",children:e==null?void 0:e.map((c,r)=>{var l;return s.jsxs(v,{children:[s.jsx(m,{children:s.jsx("span",{className:"font-semibold uppercase text-xs",children:c==null?void 0:c.invoice})}),s.jsx(m,{children:s.jsx("span",{className:"text-sm",children:i(c==null?void 0:c.updatedDate)})}),s.jsxs(m,{className:"text-xs",children:[s.jsx("span",{className:"text-sm",children:(l=c==null?void 0:c.user_info)==null?void 0:l.name})," "]}),s.jsx(m,{children:s.jsx("span",{className:"text-sm font-semibold",children:c==null?void 0:c.paymentMethod})}),s.jsx(m,{children:s.jsxs("span",{className:"text-sm font-semibold",children:[t,x(c==null?void 0:c.total)]})}),s.jsx(m,{className:"text-xs",children:s.jsx(J,{status:c==null?void 0:c.status})}),s.jsx(m,{className:"text-center",children:s.jsx(g,{id:c._id,order:c})}),s.jsx(m,{className:"text-right flex justify-end",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(ss,{orderId:c._id,order:c}),s.jsx("span",{className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600",children:s.jsx(H,{to:`/order/${c._id}`,children:s.jsx(G,{id:"view",Icon:Z,title:p("ViewInvoice"),bgColor:"#059669"})})})]})})]},r+1)})})})};export{ps as O};
