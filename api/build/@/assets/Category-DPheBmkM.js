import{l as w,j as e,y as K,x as Q,e as C,r as h}from"./index-BmZ_dwCv.js";import{B as r}from"./button-4tHrV-ob.js";import{C as H,a as W}from"./card-z1qiUGvD.js";import{I as G}from"./input-C0BdUGB3.js";import{C as J,b as y}from"./ProductServices-afE79VKB.js";import{T as V,a as X,b as Y,c as Z,d as l}from"./table-DqTgYDcX.js";import{e as _,f as $,g as ee}from"./Layout-B1bU_74f.js";import{u as se}from"./useFilter-_rWokXMj.js";import{N as te}from"./NotFound-DPkmTFlo.js";import{u as ae,M as le}from"./DrawerButton-Cgm6zT_g.js";import{D as re}from"./EditDeleteButton-DWncACV1.js";import{P as ie}from"./PageTitle-LqzkoK1q.js";import{B as oe,C as ne}from"./ShowHideButton-CM1A-hEd.js";import{U as ce}from"./UploadMany-J0kUphxL.js";import{C as me,a as de}from"./CategoryTable-CYp9-mIJ.js";import{T as he}from"./TableLoading-B5kOxqdm.js";import{A as xe}from"./AnimatedContent-BNKJlQXC.js";import{a as pe}from"./index.prod-DYWWLFcb.js";import"./index-C148XJoK.js";import"./index-CWe8m2Sk.js";import"./useDisableForDemo-CWmzrrYY.js";import"./CouponServices-DlRCOaul.js";import"./CurrencyServices-CGhkZaP1.js";import"./Tooltip-Bb6l2jS1.js";import"./floating-ui.dom-BM6icrOT.js";import"./SelectLanguageTwo-D8KAIgW8.js";import"./spinner-CkndCogW.js";import"./Combination-v4s5Rmjm.js";import"./tslib.es6-BGws65QO.js";import"./AdminServices-LtusNjKA.js";import"./ParentCategory-gD9tabZx.js";import"./useAsync-xcASmSVa.js";import"./select-B6txXpwi.js";import"./index.esm-DazwP4qc.js";import"./LabelArea-CDILq1N9.js";import"./label-C6IWixiq.js";import"./SwitchToggle-BjyUJm8q.js";import"./textarea-CEbUnO4R.js";import"./exportFromJSON-BvevaQwb.js";import"./InputArea-l9xTjbBj.js";import"./Uploader-CWHO3hsY.js";import"./_commonjs-dynamic-modules-dt42qxfv.js";import"./useTranslationValue-BbCbvZPg.js";const ge=({title:n,handleProcess:s,processOption:c})=>{const{t:i}=w();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:n}),e.jsx(pe,{onChange:s,checked:c,className:"react-switch md:ml-0 ml-3",uncheckedIcon:e.jsx("div",{style:{display:"flex",justifyContent:"left",alignItems:"center",height:"100%",fontSize:12,color:"white",paddingRight:50,paddingTop:1,marginLeft:-40,whiteSpace:"nowrap"},children:i("ParentsOnly")}),width:115,height:28,handleDiameter:26,offColor:"#0e9f6e",onColor:"#2F855A",checkedIcon:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:12,color:"white",paddingLeft:8,paddingTop:1},children:i("All")})})]})})},os=()=>{const n=K(),{t:s}=w(),{open:c,setOpen:i,selectedId:x,selectedIds:t,isCheckAll:b,toggleDrawer:N,handleSelectAll:T}=Q(),{title:v,handleDeleteMany:k,handleUpdateMany:A}=ae(),{data:a,error:p,isFetched:o,isLoading:S}=C({queryKey:["categories"],queryFn:()=>y.getAllCategory(),staleTime:600*1e3,gcTime:900*1e3}),g=h.useMemo(()=>{var j;return o&&((j=a==null?void 0:a[0])!=null&&j.children)?a[0].children:a||[]},[o,a]),{data:F,error:fe,isLoading:ue}=C({queryKey:["allCategories"],queryFn:()=>y.getAllCategories(),staleTime:600*1e3,gcTime:900*1e3}),{dataTable:D,serviceData:m,filename:P,isDisabled:M,categoryRef:f,totalResults:L,resultsPerPage:R,setCategoryType:B,handleSelectFile:q,handleChangePage:E,handleSubmitCategory:u,handleUploadMultiple:I,handleRemoveSelectFile:O}=se(g),[d,U]=h.useState(!1),z=()=>{B(""),f.current.value=""};return h.useEffect(()=>{n.invalidateQueries({queryKey:["categories"]})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between py-4 lg:py-8 gap-4 lg:gap-2",children:[e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx(ie,{children:s("Category")})}),e.jsxs("form",{onSubmit:u,className:"flex flex-col sm:flex-row lg:flex-row gap-2 lg:ml-4",children:[e.jsx("div",{className:"w-full sm:w-auto",children:e.jsx(ce,{title:"Categories",filename:P,isDisabled:M,exportData:F||[],handleSelectFile:q,handleUploadMultiple:I,handleRemoveSelectFile:O})}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:e.jsxs(r,{disabled:(t==null?void 0:t.length)<1,onClick:()=>A(t),variant:"bulkAction",className:"w-full sm:w-auto",children:[e.jsx("span",{className:"mr-2",children:e.jsx(_,{})}),s("BulkAction")]})}),e.jsx("div",{className:"mt-2 md:mt-0",children:e.jsxs(r,{disabled:(t==null?void 0:t.length)<1,onClick:()=>k(t),variant:"delete",className:"w-full sm:w-auto",children:[e.jsx("span",{className:"mr-2",children:e.jsx($,{})}),s("Delete")]})}),e.jsx("div",{className:"mt-2 md:mt-0",children:e.jsxs(r,{onClick:N,variant:"create",className:"w-full sm:w-auto",children:[e.jsx("span",{className:"mr-2",children:e.jsx(ee,{})}),s("AddCategory")]})})]})]}),e.jsx(re,{open:c,title:v,id:x,onOpenChange:()=>i(!1),ids:(t==null?void 0:t.length)>0?t:null}),e.jsx(oe,{ids:t,title:"Categories",data:o?a:[]}),e.jsx(le,{children:e.jsx(me,{id:x,data:o?a:[]})}),e.jsx(xe,{children:e.jsx(H,{className:"min-w-0 shadow-sm overflow-hidden bg-white dark:bg-gray-800 rounded-t-lg rounded-0 mb-4",children:e.jsxs(W,{className:"p-5",children:[e.jsxs("form",{onSubmit:u,className:"pb-5 flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsxs("div",{className:"w-full sm:flex-1 relative",children:[e.jsx(G,{ref:f,type:"search",placeholder:s("SearchCategory"),className:"w-full"}),e.jsx("button",{type:"submit",className:"absolute right-1 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),e.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 sm:min-w-[160px]",children:[e.jsx(r,{className:"h-10 flex-1 sm:min-w-[75px]",type:"submit",variant:"export",children:"Filter"}),e.jsx(r,{className:"h-10 flex-1 sm:min-w-[75px]",variant:"outline",onClick:z,type:"reset",children:"Reset"})]}),e.jsx(ge,{title:" ",className:"h-10",handleProcess:U,processOption:d,name:d})]}),S?e.jsx(he,{row:12,col:6,width:190,height:20}):p?e.jsx("span",{className:"text-center mx-auto text-red-500",children:p}):(m==null?void 0:m.length)!==0?e.jsxs("div",{children:[e.jsx(V,{className:"mb-4 rounded-b-lg",children:e.jsxs(X,{children:[e.jsx(Y,{children:e.jsxs(Z,{children:[e.jsx(l,{children:e.jsx(ne,{type:"checkbox",name:"selectAll",id:"selectAll",isChecked:b,handleSelect:()=>T(g)})}),e.jsx(l,{children:s("catIdTbl")}),e.jsx(l,{children:s("catIconTbl")}),e.jsx(l,{children:s("CatTbName")}),e.jsx(l,{children:s("CatTbDescription")}),e.jsx(l,{className:"text-center",children:s("catPublishedTbl")}),e.jsx(l,{className:"text-right",children:s("catActionsTbl")})]})}),e.jsx(de,{categories:D,showChild:d})]})}),e.jsx("div",{children:e.jsx(J,{resultsperpage:R,totalresults:L,onChange:E,label:"Table navigation"})})]}):e.jsx(te,{title:"Sorry, There are no categories right now."})]})})})]})};export{os as default};
