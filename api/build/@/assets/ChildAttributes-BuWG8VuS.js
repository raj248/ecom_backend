import{x as v,j as e,t as U,r as j,S as I,e as y,m as O}from"./index-lrQuldHs.js";import{B as b}from"./button-rh3FTULs.js";import{C as H,a as K}from"./card-w6jK4kZ9.js";import{C as z,A as N}from"./ProductServices-DkrntO0G.js";import{e as Q,c as T,f as m,T as G,a as J,b as W,d as c}from"./table-pH1NcXB9.js";import{u as S,S as X,h as Y,g as Z,e as $,f as ee}from"./Layout-zjBccTHe.js";import{u as se}from"./useFilter-CTY6t_y8.js";import{L as re}from"./Loading-icG6svtz.js";import{N as ae}from"./NotFound-DffgNZ-O.js";import{u as k,T as w,D as te,M as le}from"./DrawerButton-CHM5Wu-i.js";import{C as D,S as ie,B as ne}from"./ShowHideButton-B5Ky8xjG.js";import{E as oe,D as de}from"./EditDeleteButton-BFQAVewg.js";import{P as me}from"./PageTitle-DEDGWyYG.js";import{A as ce}from"./AnimatedContent-DSnt0TWS.js";import{E as A}from"./index.esm-BUE4Z1sU.js";import{I as xe}from"./InputArea-C6cF93jC.js";import{L as C}from"./LabelArea-CL5vBgQk.js";import{S as pe}from"./SwitchToggle-BZHbvCGz.js";import{u as he}from"./useAttributeSubmit-qSpAXD-8.js";import"./index-C148XJoK.js";import"./index-BOuINoA5.js";import"./useDisableForDemo-dHOka9Cq.js";import"./CouponServices-DZWPN_Z6.js";import"./CurrencyServices-BtWGRbQW.js";import"./Tooltip-D68gOM7t.js";import"./floating-ui.dom-BM6icrOT.js";import"./SelectLanguageTwo-CEDNWkHE.js";import"./spinner-CkndCogW.js";import"./ParentCategory-DqAAqud_.js";import"./useAsync-BoRl3kkI.js";import"./input-DxgA4gbo.js";import"./select-7doUwPnS.js";import"./Combination-DMBpnunk.js";import"./tslib.es6-BGws65QO.js";import"./textarea-CE3Qtp6r.js";import"./index.prod-Ca2g6A5e.js";import"./AdminServices-B69j88RY.js";import"./label-D0mdihLM.js";import"./useTranslationValue-2zmYr2dJ.js";const ue=({att:a,childAttributes:l})=>{const{handleModalOpen:x,handleUpdate:o}=k(),{showingTranslateValue:s}=S(),{handleSelect:d,selectedIds:i}=v();return e.jsx(e.Fragment,{children:e.jsx(Q,{children:l==null?void 0:l.map((r,p)=>{var n;return e.jsxs(T,{children:[e.jsx(m,{children:e.jsx(D,{type:"checkbox",name:"child-attribute",id:r._id,handleSelect:d,isChecked:i==null?void 0:i.includes(r._id)})}),e.jsx(m,{className:"font-semibold uppercase text-xs",children:(n=r==null?void 0:r._id)==null?void 0:n.substring(20,24)}),e.jsx(m,{className:"font-medium text-sm",children:s(r==null?void 0:r.name)}),e.jsx(m,{className:"font-medium text-sm",children:a==null?void 0:a.option}),e.jsx(m,{className:"text-center",children:e.jsx(ie,{id:r._id,status:r.status})}),e.jsx(m,{children:e.jsx(oe,{id:r._id,selectedIds:i,handleUpdate:o,handleModalOpen:x,title:s(r.name)})})]},p+1)})})})},ge=({id:a})=>{const{language:l,handleSubmit:x,onSubmits:o,register:s,errors:d,published:i,isSubmitting:r,setPublished:p,handleSelectLanguage:n}=he(a);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:a?e.jsx(w,{register:s,language:l,handleSelectLanguage:n,title:"Add/Update Attribute Valu",description:"Add your attribute values and necessary information from here"}):e.jsx(w,{register:s,language:l,handleSelectLanguage:n,title:"Add/Update Attribute Values",description:"Add your attribute values and necessary information from here"})}),e.jsx(X,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:e.jsxs("form",{onSubmit:x(o),children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 items-center",children:[e.jsx(C,{label:"Display Name"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(xe,{required:!0,register:s,label:"Display Name",name:"name",type:"text",placeholder:"Color or Size or Dimension or Material or Fabric"}),e.jsx(A,{errorName:d.name})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 items-center",children:[e.jsx(C,{label:"Published"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(pe,{handleProcess:p,processOption:i}),e.jsx(A,{errorName:d.published})]})]})]}),e.jsx(te,{id:a,title:"Attribute",isSubmitting:r})]})})]})},ls=()=>{let{id:a}=U();const{open:l,setOpen:x,selectedId:o,selectedIds:s,isCheckAll:d,toggleDrawer:i,handleSelectAll:r}=v(),{title:p,handleDeleteMany:n,handleUpdateMany:F}=k(),{lang:je}=j.useContext(I),{data:t,error:f,isLoading:u}=y({queryKey:["attribute",a],queryFn:()=>N.getAttributeById(a),enabled:!!a,staleTime:600*1e3,gcTime:900*1e3}),{showingTranslateValue:B}=S(),{data:h,isLoading:be,error:fe}=y({queryKey:["attributes",{type:"attribute",option:"Dropdown",option1:"Radio"}],queryFn:()=>N.getAllAttributes({type:"attribute",option:"Dropdown",option1:"Radio"}),staleTime:600*1e3,gcTime:900*1e3}),{totalResults:P,resultsPerPage:E,dataTable:L,serviceData:g,handleChangePage:M}=se(t==null?void 0:t.variants),[V,R]=j.useState([]);return j.useEffect(()=>{const _=h==null?void 0:h.filter(q=>q._id!==a);R(_)},[h,a]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between py-4 lg:py-8 gap-4 lg:gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(me,{children:"Attributes Values"}),e.jsx("div",{className:"flex items-center py-4",children:e.jsxs("ol",{className:"flex items-center w-full overflow-hidden font-serif",children:[e.jsx("li",{className:"text-sm pr-1 transition duration-200 ease-in cursor-pointer hover:text-emerald-500 font-semibold",children:e.jsx(O,{className:"text-blue-700",to:"/attributes",children:"Attributes"})}),e.jsxs("span",{className:"flex items-center font-serif dark:text-gray-400",children:[e.jsxs("li",{className:"text-sm mt-[1px]",children:[" ",e.jsx(Y,{})," "]}),e.jsx("li",{className:"text-sm pl-1 font-semibold dark:text-gray-400",children:!u&&B(t==null?void 0:t.title)})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row lg:flex-row gap-2 lg:ml-4",children:[e.jsxs(b,{onClick:i,variant:"create",children:[e.jsx("span",{className:"mr-3",children:e.jsx(Z,{})}),"Add Value"]}),e.jsxs(b,{disabled:s.length<1,onClick:()=>F(s),variant:"bulkAction",children:[e.jsx($,{}),"Bulk Action"]}),e.jsxs(b,{disabled:s.length<1,onClick:()=>n(s),variant:"delete",children:[e.jsx("span",{className:"mr-3",children:e.jsx(ee,{})}),"Delete"]})]}),e.jsx(de,{open:l,title:p,id:o,onOpenChange:()=>x(!1),ids:(s==null?void 0:s.length)>0?s:null}),e.jsx(ne,{childId:a,ids:s,attributes:V,title:"Attribute Value(s)"}),e.jsx(le,{children:e.jsx(ge,{id:o})})]}),e.jsx(ce,{children:e.jsx(H,{className:"min-w-0 shadow-sm overflow-hidden bg-white dark:bg-gray-800 rounded-t-lg rounded-0 mb-4",children:e.jsx(K,{className:"p-5",children:u?e.jsx(re,{loading:u}):f?e.jsx("span",{className:"text-center mx-auto text-red-500",children:f}):(g==null?void 0:g.length)!==0?e.jsxs("div",{children:[e.jsx(G,{className:"mb-8",children:e.jsxs(J,{children:[e.jsx(W,{children:e.jsxs(T,{children:[e.jsx(c,{children:e.jsx(D,{type:"checkbox",name:"selectAll",id:"selectAll",isChecked:d,handleSelect:()=>r(t==null?void 0:t.variants)})}),e.jsx(c,{children:"Id"}),e.jsx(c,{children:"Name"}),e.jsx(c,{children:"Type"}),e.jsx(c,{className:"text-center",children:"Status"}),e.jsx(c,{className:"text-right",children:"Actions"})]})}),e.jsx(ue,{att:t,childAttributes:L})]})}),e.jsx("div",{children:e.jsx(z,{resultsperpage:E,totalresults:P,onChange:M,label:"Table navigation"})})]}):e.jsx(ae,{title:"Sorry, There are no attributes right now."})})})})]})};export{ls as default};
