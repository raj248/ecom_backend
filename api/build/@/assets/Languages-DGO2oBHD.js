import{x as A,j as e,r as f,S as J,y as X,L as F,l as U}from"./index-lrQuldHs.js";import{d as K,n as D,b as M,c as B,S as Y,B as k}from"./button-rh3FTULs.js";import{C as Z,a as ee}from"./card-w6jK4kZ9.js";import{I as $}from"./input-DxgA4gbo.js";import{C as ae}from"./ProductServices-DkrntO0G.js";import{e as se,c as z,f as _,T as te,a as ne,b as le,d as S}from"./table-pH1NcXB9.js";import{l as re,e as oe,f as ie,g as ce}from"./Layout-zjBccTHe.js";import{C as V,S as de,B as me}from"./ShowHideButton-B5Ky8xjG.js";import{u as q,T as O,D as pe,M as ue}from"./DrawerButton-CHM5Wu-i.js";import{E as ge,D as xe}from"./EditDeleteButton-BFQAVewg.js";import{T as he}from"./TableLoading-BpKh234J.js";import{N as fe}from"./NotFound-DffgNZ-O.js";import{u as je}from"./useAsync-BoRl3kkI.js";import{u as be}from"./useFilter-CTY6t_y8.js";import{P as _e}from"./PageTitle-DEDGWyYG.js";import{u as Se,F as ve,C as we,a as ye,b as Fe,E as Ne}from"./index.esm-BUE4Z1sU.js";import{I as Ce}from"./InputArea-C6cF93jC.js";import{L as y}from"./LabelArea-CL5vBgQk.js";import{S as Le}from"./SwitchToggle-BZHbvCGz.js";import"./label-D0mdihLM.js";import{S as ke,a as Re,b as Te,c as Ie,d as P}from"./select-7doUwPnS.js";import{l as W}from"./data-BU3lZm3Y.js";import{A as Ae}from"./AnimatedContent-DSnt0TWS.js";import"./index-C148XJoK.js";import"./index-BOuINoA5.js";import"./ParentCategory-DqAAqud_.js";import"./Tooltip-D68gOM7t.js";import"./floating-ui.dom-BM6icrOT.js";import"./textarea-CE3Qtp6r.js";import"./useDisableForDemo-dHOka9Cq.js";import"./CouponServices-DZWPN_Z6.js";import"./CurrencyServices-BtWGRbQW.js";import"./index.prod-Ca2g6A5e.js";import"./SelectLanguageTwo-CEDNWkHE.js";import"./spinner-CkndCogW.js";import"./Combination-DMBpnunk.js";import"./tslib.es6-BGws65QO.js";import"./AdminServices-B69j88RY.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Ee=K("loader",Be),De=({languages:a})=>{const{handleModalOpen:l,handleUpdate:n}=q(),{handleSelect:s,selectedIds:r}=A();return e.jsx(e.Fragment,{children:e.jsx(se,{children:a==null?void 0:a.map((t,c)=>e.jsxs(z,{children:[e.jsx(_,{children:e.jsx(V,{type:"checkbox",name:t.name,id:t._id,handleSelect:s,isChecked:r.includes(t._id)})}),e.jsxs(_,{children:[e.jsx("span",{className:"text-sm",children:t.name})," "]}),e.jsxs(_,{children:[e.jsx("span",{className:"text-sm",children:t.code})," "]}),e.jsx(_,{children:t==null?void 0:t.flag}),e.jsx(_,{className:"text-center",children:e.jsx(de,{id:t._id,status:t.status})}),e.jsx(_,{children:e.jsx(ge,{id:t._id,handleUpdate:n,handleModalOpen:l})})]},t._id))})})};function Me(a){var l={exports:{}};return a(l,l.exports),l.exports}/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Me(function(a){(function(){var l={}.hasOwnProperty;function n(){for(var s=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var c=typeof t;if(c==="string"||c==="number")s.push(t);else if(Array.isArray(t)&&t.length){var m=n.apply(null,t);m&&s.push(m)}else if(c==="object")for(var x in t)l.call(t,x)&&t[x]&&s.push(x)}}return s.join(" ")}a.exports?(n.default=n,a.exports=n):window.classNames=n})()});function Oe(a,l){l===void 0&&(l={});var n=l.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a))}}var Pe=`.ReactFlagsSelect-module_flagsSelect__2pfa2 {
  position: relative;
  vertical-align: inherit;
  padding-bottom: 5px;
  text-align: left;
}

.ReactFlagsSelect-module_flagsSelectInline__cUnnz {
  display: inline-block;
}

.ReactFlagsSelect-module_selectBtn__19wW7 {
  cursor: pointer;
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 5px 10px;
  font-family: inherit;
  color: #4d4d4d;
  border: thin solid rgba(77, 77, 77, 0.3);
  border-radius: 4px;
  background: transparent;
}
.ReactFlagsSelect-module_selectBtn__19wW7:after, .ReactFlagsSelect-module_selectBtn__19wW7[aria-expanded=true]:after {
  content: " ";
  width: 0;
  height: 0;
  display: inline-block;
  margin-left: 5px;
}
.ReactFlagsSelect-module_selectBtn__19wW7:after {
  border-top: 5px solid #4d4d4d;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 0;
}
.ReactFlagsSelect-module_selectBtn__19wW7[aria-expanded=true]:after {
  border-top: 0;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 5px solid #4d4d4d;
}

.ReactFlagsSelect-module_disabledBtn__3A4GF {
  background: #eaeaea;
  cursor: default;
}

.ReactFlagsSelect-module_label__27pw9, .ReactFlagsSelect-module_secondaryLabel__37t1D {
  font-size: 1em;
  padding-left: 10px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ReactFlagsSelect-module_secondaryLabel__37t1D {
  color: #707070;
  padding-left: 5px;
}

.ReactFlagsSelect-module_selectValue__152eS,
.ReactFlagsSelect-module_selectOption__3pcgW {
  cursor: pointer;
  padding: 0 8px;
  margin: 4px 0;
  white-space: nowrap;
}

.ReactFlagsSelect-module_selectValue__152eS {
  pointer-events: none;
  display: flex;
  align-items: center;
}

.ReactFlagsSelect-module_selectOption__3pcgW {
  padding: 2px 18px;
}
.ReactFlagsSelect-module_selectOption__3pcgW:hover, .ReactFlagsSelect-module_selectOption__3pcgW:focus {
  outline: none;
  background: #eaeaea;
}

.ReactFlagsSelect-module_selectFlag__2q5gC {
  display: inline-flex;
  font-size: 1.2em;
}

.ReactFlagsSelect-module_selectOptionValue__vS99- {
  display: flex;
  align-items: center;
}

.ReactFlagsSelect-module_selectOptionWithlabel__2GpmM {
  padding: 4px 10px;
}

.ReactFlagsSelect-module_selectOptions__3LNBJ {
  position: absolute;
  z-index: 999999;
  border: 1px solid #bdbbbb;
  border-radius: 3px;
  background: #ffffff;
  margin-top: 8px;
  padding: 8px 0;
  max-height: 180px;
  overflow: auto;
}

.ReactFlagsSelect-module_selectOptionsWithSearch__1W03w {
  padding: 0 0 8px 0;
}

.ReactFlagsSelect-module_fullWidthOptions__1XeR6 {
  right: 0;
  left: 0;
}

.ReactFlagsSelect-module_alignOptionsToRight__3Qvq2 {
  right: 0;
}

.ReactFlagsSelect-module_filterBox__3m8EU {
  position: sticky;
  top: 0;
  width: 100%;
  padding-top: 8px;
  background: #ffffff;
}
.ReactFlagsSelect-module_filterBox__3m8EU input {
  width: calc(100% - 20px);
  margin: 0 10px;
  padding: 8px;
  box-sizing: border-box;
}
.ReactFlagsSelect-module_filterBox__3m8EU input:focus {
  outline: none;
}`;Oe(Pe);const We=a=>{const[l,n]=f.useState(!1),{setIsUpdate:s}=f.useContext(J),{openDrawer:r,closeDrawer:t}=A(),c=X(),m=Se({defaultValues:{name:"",code:"",flag:"",status:!0}}),{control:x,register:h,setValue:o,clearErrors:d,handleSubmit:u,formState:{errors:v}}=m,C=async({name:j,code:b,flag:i,status:w})=>{var p,E;try{n(!0);const g={name:j,code:b,flag:i,status:w?"show":"hide"};if(a){const L=await F.updateLanguage(a,g);s(!0),n(!1),M(L.message),t(),c.invalidateQueries(["languages"])}else{const L=await F.addLanguage(g);s(!0),n(!1),M(L.message),t(),c.invalidateQueries(["languages"])}}catch(g){D(g?(E=(p=g==null?void 0:g.response)==null?void 0:p.data)==null?void 0:E.message:g==null?void 0:g.message),t(),n(!1)}};return f.useEffect(()=>{if(!a){o("name"),o("code"),o("flag"),d("name"),d("code"),d("flag"),d("status");return}},[a,o,r,d]),f.useEffect(()=>{a&&(async()=>{var j,b;try{const i=await F.getLanguageById(a);i&&(o("name",i.name),o("code",i.code),o("flag",i.flag),o("status",i.status==="show"))}catch(i){D(i?(b=(j=i==null?void 0:i.response)==null?void 0:j.data)==null?void 0:b.message:i==null?void 0:i.message)}})()},[a]),{form:m,control:x,onSubmit:C,register:h,errors:v,setValue:o,handleSubmit:u,isSubmitting:l}},Ue=ve,Q=f.createContext({}),R=({...a})=>e.jsx(Q.Provider,{value:{name:a.name},children:e.jsx(we,{...a})}),H=()=>{const a=f.useContext(Q),l=f.useContext(G),{getFieldState:n}=ye(),s=Fe({name:a.name}),r=n(a.name,s);if(!a)throw new Error("useFormField should be used within <FormField>");const{id:t}=l;return{id:t,name:a.name,formItemId:`${t}-form-item`,formDescriptionId:`${t}-form-item-description`,formMessageId:`${t}-form-item-message`,...r}},G=f.createContext();function T({className:a,...l}){const n=f.useId();return e.jsx(G.Provider,{value:{id:n},children:e.jsx("div",{"data-slot":"form-item",className:B("grid gap-2",a),...l})})}function N({...a}){const{error:l,formItemId:n,formDescriptionId:s,formMessageId:r}=H();return e.jsx(Y,{"data-slot":"form-control",id:n,"aria-describedby":l?`${s} ${r}`:`${s}`,"aria-invalid":!!l,...a})}function I({className:a,...l}){const{error:n,formMessageId:s}=H(),r=n?String((n==null?void 0:n.message)??""):l.children;return r?e.jsx("p",{"data-slot":"form-message",id:s,className:B("text-destructive text-sm",a),...l,children:r}):null}function $e({value:a,onValueChange:l,isPending:n,items:s,placeholder:r,disabled:t,className:c=""}){return e.jsxs(ke,{value:a,onValueChange:l,disabled:t,children:[e.jsx(N,{children:e.jsx(Re,{className:B(c),children:e.jsx(Te,{placeholder:r??"Select"})})}),e.jsx(Ie,{position:"popper",container:document.querySelector(".drawer-container"),className:"z-[9999]",children:n?e.jsx(P,{disabled:!0,value:"loading",className:"h-14",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ee,{className:"h-5 w-5 animate-spin"}),"Loading..."]})}):s==null?void 0:s.map(m=>e.jsx(P,{value:m.value,children:m.label},m.value))})]})}const ze=({id:a})=>{const{form:l,control:n,onSubmit:s,register:r,errors:t,setValue:c,handleSubmit:m,isSubmitting:x}=We(a),{t:h}=U();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:a?e.jsx(O,{title:h("UpdateLanguage"),description:h("UpdateLanguageText")}):e.jsx(O,{title:h("AddLanguage"),description:h("AddLanguageText")})}),e.jsx(re.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:e.jsx(Ue,{...l,children:e.jsxs("form",{id:"language-form",onSubmit:m(s),className:"space-y-6",children:[e.jsxs("div",{className:"p-6 flex-grow scrollbar-hide w-full max-h-full pb-40",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 relative",children:[e.jsx(y,{label:"Select Language"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(R,{control:n,name:"code",render:({field:o})=>e.jsxs(T,{children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(N,{children:e.jsx($e,{items:W.map(d=>({label:`${d.flag} ${d.name} (${d.code})`,value:d.code})),value:o.value,defaultValue:o.value,onValueChange:d=>{const u=W.find(v=>v.code===d);u&&(c("code",u.code),c("name",u.name),c("flag",u.flag))},placeholder:"Select language",className:"w-full"})})}),e.jsx(I,{className:"ml-[130px]"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(y,{label:h("AddLanguageName")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(Ce,{name:"name",type:"text",required:!0,register:r,label:"Language name",placeholder:"Language name"}),e.jsx(Ne,{errorName:t.name})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(y,{label:"Flag"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(R,{control:n,name:"flag",render:({field:o})=>e.jsxs(T,{children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(N,{children:e.jsx($,{placeholder:"Emoji or URL",...o})})}),e.jsx(I,{className:"ml-[130px]"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(y,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(R,{control:n,name:"status",render:({field:o})=>e.jsxs(T,{children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(N,{children:e.jsx(Le,{title:"",handleProcess:o.onChange,processOption:o==null?void 0:o.value})})}),e.jsx(I,{className:"ml-[130px]"})]})})})]})]}),e.jsx(pe,{id:a,title:"Language",isSubmitting:x})]})})})]})},La=()=>{const{open:a,setOpen:l,selectedId:n,selectedIds:s,isCheckAll:r,toggleDrawer:t,handleSelectAll:c}=A(),{title:m,handleDeleteMany:x,handleUpdateMany:h}=q(),{data:o,loading:d,error:u}=je(F.getAllLanguages),{dataTable:v,languageRef:C,totalResults:j,resultsPerPage:b,handleChangePage:i,handleSubmitLanguage:w}=be(o),{t:p}=U();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between py-4 lg:py-8 gap-4 lg:gap-2",children:[e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx(_e,{children:"Languages"})}),e.jsx("form",{onSubmit:w,className:"flex flex-col sm:flex-row lg:flex-row gap-2 lg:ml-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(k,{disabled:s.length<1,onClick:()=>h(s),variant:"bulkAction",className:"w-full sm:w-auto",children:[e.jsx("span",{children:e.jsx(oe,{})}),p("BulkAction")]}),e.jsxs(k,{disabled:s.length<1,onClick:()=>x(s),variant:"delete",className:"w-full sm:w-auto",children:[e.jsx("span",{children:e.jsx(ie,{})}),p("Delete")]}),e.jsxs(k,{onClick:t,variant:"create",className:"w-full sm:w-auto",children:[e.jsx("span",{children:e.jsx(ce,{})}),"Add language"]})]})})]}),e.jsx(ue,{children:e.jsx(ze,{id:n})}),e.jsx(me,{ids:s,title:"Languages"}),e.jsx(xe,{open:a,title:m,id:n,onOpenChange:()=>l(!1),ids:(s==null?void 0:s.length)>0?s:null}),e.jsx(Ae,{children:e.jsx(Z,{className:"min-w-0 shadow-sm overflow-hidden bg-white dark:bg-gray-800 rounded-t-lg rounded-0 mb-4",children:e.jsxs(ee,{className:"p-5",children:[e.jsx("form",{onSubmit:w,className:"pb-5 flex flex-col sm:flex-row gap-3 sm:gap-4",children:e.jsxs("div",{className:"w-full sm:flex-1 relative",children:[e.jsx($,{ref:C,type:"search",placeholder:p("SearchLanguage"),className:"w-full"}),e.jsx("button",{type:"submit",className:"absolute right-1 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),d?e.jsx(he,{row:12,col:7,width:163,height:20}):u?e.jsx("span",{className:"text-center mx-auto text-red-500",children:u}):o.length!==0&&e.jsxs("div",{children:[e.jsx(te,{className:"mb-8 rounded-b-lg",children:e.jsxs(ne,{children:[e.jsx(le,{children:e.jsxs(z,{children:[e.jsx(S,{children:e.jsx(V,{type:"checkbox",name:"selectAll",id:"selectAll",isChecked:r,handleSelect:()=>c(o)})}),e.jsx(S,{children:p("LanguagesNname")}),e.jsx(S,{children:p("LanguagesIsoCode")}),e.jsx(S,{children:p("LanguagesFlag")}),e.jsx(S,{className:"text-center",children:p("LanguagesPublished")}),e.jsx(S,{className:"text-right",children:p("LanguagesActions")})]})}),e.jsx(De,{languages:v})]})}),e.jsx("div",{children:e.jsx(ae,{resultsperpage:b,totalresults:j,onChange:i,label:"Table navigation"})})]}),!d&&o.length===0&&!u&&e.jsx(fe,{title:"Sorry, There are no languages right now."})]})})})]})};export{La as default};
